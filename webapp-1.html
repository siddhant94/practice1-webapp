<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Title of the document</title>
</head>

<body>
<h2>Some famous paintings</h2>
<table id="paintings">
    <tr>
        <th style="margin: 5px;">Name</th>
        <th style="margin: 5px;">Year</th>
        <th style="margin: 5px;">Artist</th>	
    </tr>
</table>
    <button onclick="myFunction()">Try it</button>

</body>

<script type="text/javascript">
function myFunction() {
	var table = document.getElementById("paintings");
	var name=[],year=[],artist=[];
	fetch(
  	"https://raw.githubusercontent.com/bpesquet/thejsway/master/resources/paintings.json"
	)
	.then(  
    function(response) {  
      if (response.status !== 200) {  
        console.log('Looks like there was a problem. Status Code: ' +  
          response.status);  
        return;  
      }

      // Examine the text in the response  
      response.json().then(function(data) {  
        console.log(data);
        //Iterate over "data" stream
        //data elements are passed as argument to function i.e here it is d
        data.forEach(function(d){
        	var row = table.insertRow(1);
		    var cell1 = row.insertCell(0);
		    var cell2 = row.insertCell(1);
		    var cell3 = row.insertCell(2);
		    cell1.innerHTML = d.name;
		    cell2.innerHTML = d.year;
		    cell3.innerHTML = d.artist;
        });

      });  
    }  
  )  
  .catch(function(err) {  
    console.log('Fetch Error :-S', err);  
  });

  

    var row = table.insertRow(1);
    var cell1 = row.insertCell(0);
    var cell2 = row.insertCell(1);
    var cell3 = row.insertCell(2);
}
</script>

</html>

